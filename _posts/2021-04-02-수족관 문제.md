---
layout: post
title: "수족관 문제"
subtitle: "JAVA"
date: 2021-04-02
background: '/img/posts/01.jpg'
categories: ['Java']
---

-----

### 수족관 문제

```java
// 내가 푼 방법
public class AquaMain {

	public static void main(String[] args) {
		Aqua as = new Aqua();
		System.out.println("==================");
		System.out.println("     수족관 경영           ");
		System.out.println("==================");
		as.run();
	}

}
```

-----

```java
// 내가 푼 방법
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Scanner;

public class Aqua {

	// 기본어항 4개
	// 물고기는 해당 일자가 지나야 판매 가능
	// 먹이 줄 경우 해당일자가 1일씩 줄어듬
	// 완전 성장 후 3일 경과 시 사망
	// 먹이는 하루 1번 사용가능. 전체 어항 적용
	// 초기자금 300원
	// ------------------------
	// 물고기명 | 구매 | 판매 | 성장
	// 금붕어 | 100 | 150 | 3
	// 잉어 | 500 | 1000 | 7
	// 구피 | 300 | 350 | 5
	// ------------------------
	// 어항 추가 비용 : 10000원
	// 먹이 : 개당 200원

	int fSize = 4; // 냉장고 사이즈

	String[] product = { "금붕어", "잉어", "구피" };
	int[] pSize = { 100, 500, 200 };
	int[] pSize2 = { 150, 1000, 350 };
	int[] pDay = { 3, 7, 5 };
	int money = 300;
	int date = 0;
	int in = 4;

	List<HashMap<String, Integer>> aqua = new ArrayList<HashMap<String, Integer>>();

	boolean flag = true;
	Scanner sc = new Scanner(System.in);

	public void run() {

		while (flag) {
			System.out.println("1.구매\t2.판매\t3.상태확인\t4.먹이주기\t5.다음날\t6.어항구매\t7.종료");

			switch (sc.nextLine()) {
			case "1":
				buyFish();

				break;
			case "2":
				sellFish();

				break;
			case "3":
				status();

				break;
			case "4":
				feed();

				break;
			case "5":
				grow();
				break;
			case "6":
				buyBowl();
				break;
			case "7":
				System.out.println("종료합니다.");
				flag = false;
				break;
			default:
				System.out.println("잘못 입력하셨습니다.");
			}
		}
	}

	public void buyFish() {
		if (in <= 0) {
			System.out.println("더 이상 물고기가 들어갈 어항이 없습니다.");
		}

		boolean flag = true;
		while (flag) {
			for (int i = 0; i < product.length; i++) {
				System.out.print(i + 1 + "." + product[i] + "(구매가격 : " + pSize[i] + ", 성장일 수 : " + pDay[i] + ")\t");
			}
			System.out.println();
			int num = sc.nextInt();
			sc.nextLine();

			while (flag) {
				if (money >= pSize[num - 1]) {
					HashMap<String, Integer> p = new HashMap<String, Integer>();
					p.put("fish", num - 1);
					p.put("day", pDay[num - 1]);

					aqua.add(p);
					money -= pSize[num - 1];
					System.out.println("현재 남은 자금 : " + money);
					in--;
				} else {
					System.out.println("구매 불가능합니다. 현재자금 : " + money);
				}
				flag = false;
			}
			flag = false;
		}

	}

	public void sellFish() {
		if (aqua.size() > 0 && aqua.get(0).get("day") <= 0) {
			System.out.println("현재 판매가능한 물고기");
			for (int i = 0; i < aqua.size(); i++) {
				if (aqua.get(i).get("day") <= 0) {
					System.out.println(i + 1 + "." + product[aqua.get(i).get("fish")] + "\t판매가격 : "
							+ pSize2[aqua.get(i).get("fish")]);
				}
			}
			boolean flag = true;
			while (flag) {
				System.out.println("판매하시겠습니까?\t1.예\t2.아니오");
				int num = sc.nextInt();
				sc.nextLine();
				switch (num) {
				case 1:
					System.out.println("판매가능한 물고기");
					for (int i = 0; i < aqua.size(); i++) {
						if (aqua.get(i).get("day") <= 0) {
							System.out.println(i + 1 + "." + product[aqua.get(i).get("fish")] + "\t판매가격 : "
									+ pSize2[aqua.get(i).get("fish")]);
						}
					}
					while (flag) {
						if (aqua.size() > 0) {

							System.out.println();
							int buy = sc.nextInt();

							sc.nextLine();

							if (aqua.get(buy - 1).get("day") <= 0) {

								money += pSize2[aqua.get(buy - 1).get("fish")];

								aqua.remove(buy - 1);
								System.out.println("현재 남은 자금 : " + money);
								in++;
							} else {
								for (int i = 0; i < aqua.size(); i++) {
									System.out.println("판매가능한 물고기가 없습니다. 현재  상황 : " + product[aqua.get(i).get("fish")]
											+ aqua.get(i).get("day") + "일 후 판매가능");
								}
							}
						} else {
							System.out.println("판매불가능합니다. 현재 물고기 수 : " + aqua.size());
						}
						flag = false;
					}
					flag = false;
					break;
				case 2:
					flag = false;
				}
			}
		} else {
			System.out.println("판매가능한 물고기가 없습니다.");
		}

	}

	public void status() {
		System.out.println("현재 남은 자금 : " + money);
		System.out.println("-----------------");
		System.out.println("물고기 현재 상태");
		System.out.println("-----------------");
		for (int i = 0; i < aqua.size(); i++) {
			if (aqua.get(i).get("day") > 0) {
				System.out.println(product[aqua.get(i).get("fish")] + aqua.get(i).get("day") + "일 후 판매가능");

			} else {
				System.out.println(product[aqua.get(i).get("fish")] + (aqua.get(i).get("day") + 3) + "일 후 죽음");

			}
		}
	}

	public void feed() {
		if (date == 0 && aqua.size() > 0) {
			if (money >= 200) {
				for (int i = 0; i < aqua.size(); i++) {
					if (aqua.get(i).get("day") > 0) {
						aqua.get(i).put("day", aqua.get(i).get("day") - 1);
						System.out
								.println(product[aqua.get(i).get("fish")] + "\t" + aqua.get(i).get("day") + "일 후 판매가능");

					} else {
						aqua.get(i).put("day", aqua.get(i).get("day") - 1);
						System.out.println(product[aqua.get(i).get("fish")] + (aqua.get(i).get("day") + 3) + "일 후 죽음");
						if (aqua.get(i).get("day") == -3) {
							System.out.println(product[aqua.get(i).get("fish")] + "는 죽었습니다.");
							aqua.remove(i);
							i--;
							in++;
						}
					}
				}
				money -= 200;
				System.out.println("현재 님은 자금 : " + money);
			} else {
				System.out.println("현재 먹이 살 수 있는 자금이 부족합니다. 현재 자금 : " + money);
			}

		} else {
			System.out.println("먹이를 줄 수 없습니다.");
		}
		date = -1;
	}

	public void grow() {
		date++;
		for (int i = 0; i < aqua.size(); i++) {
			if (aqua.get(i).get("day") > 0) {
				aqua.get(i).put("day", aqua.get(i).get("day") - 1);
				System.out.println(product[aqua.get(i).get("fish")] + "\t" + aqua.get(i).get("day") + "일 후 판매가능");
			} else {
				aqua.get(i).put("day", aqua.get(i).get("day") - 1);
				System.out.println(product[aqua.get(i).get("fish")] + (aqua.get(i).get("day") + 3) + "일 후 죽음");
				if (aqua.get(i).get("day") == -3) {
					System.out.println(product[aqua.get(i).get("fish")] + "는 죽었습니다.");
					aqua.remove(i);
					i--;
					in++;
				}
			}
		}
		date = 0;
	}

	public void buyBowl() {
		System.out.println("어항을 구매하시겠습니까?\t1.예\t2.아니오");
		int num = sc.nextInt();
		sc.nextLine();
		switch (num) {
		case 1:
			if (money >= 10000) {
				in++;
			} else {
				System.out.println("현재 자금이 부족합니다. 현재자금 :" + money);
			}
			break;
		case 2:
			break;
		}
	}
}
```

-----

-----

```java
// 쌤이 푼 방법
public class AquaController {

	public static void main(String[] args) {
		AquaService as = new AquaService();
		System.out.println("==================");
		System.out.println("     수족관 경영           ");
		System.out.println("==================");
		as.run();
	}
}
```

-----

```java
// 쌤이 푼 방법
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Scanner;

public class AquaService {
	Scanner sc = new Scanner(System.in);
	List<HashMap<String, Integer>> bowl = new ArrayList<HashMap<String, Integer>>();
	int bowlCnt = 4;
	int money = 300;
	boolean food = false;
	
	String[] fishName = {"금붕어", "잉어", "구피", "상어", "고래"};
	int[] fishBuy = {100, 500, 200, 1000, 5000};
	int[] fishSell = {150, 1000, 350, 3000, 20000};
	int[] fishGrow = {3, 7, 5, 6, 10};
	int minFishBuy;
	
	int bowlBuy = 10000;
	int foodBuy = 200;
	
	public AquaService() {
		minFishBuy = fishBuy[0];
		
		for(int i = 1 ; i < fishBuy.length ; i++) {
			if(minFishBuy > fishBuy[i]) {
				minFishBuy = fishBuy[i];
			}
		}
	}
	
	public void run() {
		boolean runFlag = true;
		
		while(runFlag) {
			System.out.println("메뉴를 선택하시오. (보유금액 : " + money + ")");
			System.out.println("1.물고기구매  2.물고기판매  3.어항구매(" + bowlBuy + "원)  4.상태보기  5.먹이주기(" + foodBuy + "원)  6.다음날  7.종료");
			
			switch(sc.nextLine()) {
			case "1" : buyFish();
				break;
			case "2" : sellFish();
				break;
			case "3" : buyBowl();
			break;
			case "4" : status();
				break;
			case "5" : if(money < foodBuy) {
						   	System.out.println("먹이 비용이 부족합니다.");
					   } else if(bowl.size() == 0) {
						   	System.out.println("물고기가 없습니다.");
					   } else if(!food) {
					   		food = true;
					   		money -= foodBuy;
							grow(1);
					   } else {
							System.out.println("이미 먹이를 제공하였습니다.");
					   }
				break;
			case "6" : 
				food = false;
				grow(0);
				break;
			case "7" : runFlag = false;
				break;
			default : System.out.println("잘못 입력하셨습니다.");
			}
		}
	}
	
	public void buyFish() {
		if(money < minFishBuy) {
			System.out.println("금액이 부족합니다.");
		} else if(bowl.size() == bowlCnt) {
			System.out.println("어항에 공간이 없습니다.");
		} else {
			System.out.println("----- 구입할 물고기를 선택하세요. (보유금액 : " + money + "원) -----");
			for(int i = 0 ; i < fishName.length ; i++) {
				System.out.println((i + 1) + "." + fishName[i] 
						+ "(구매가 " + fishBuy[i] + "원, 판매가 " 
						+ fishSell[i] + "원, 성장 " + fishGrow[i] + "일)");
			}
			String input = sc.nextLine();
			
			int choice = Integer.parseInt(input) - 1;
			
			if(choice < 0 || choice >= fishName.length) {
				System.out.println("잘못입력하셨습니다.");
			} else if(money < fishBuy[choice]) {
				System.out.println("구매금액이 부족합니다.");
			} else {
				HashMap<String, Integer> fish = new HashMap<String, Integer>();
				fish.put("type", choice);
				int age = fishGrow[choice] * - 1;
				fish.put("age", age);
				
				bowl.add(fish);
				
				money -= fishBuy[choice];
			}
		}
	}
	
	// gbn : 0 - 다음날, 1 - 먹이주기
	public void grow(int gbn) {
		for(int i = 0 ; i < bowl.size() ; i++) {
			HashMap<String, Integer> fish = bowl.get(i);
			int age = fish.get("age");

			if(gbn == 1 && age < 0) {
				age++;
				fish.put("age", age);
			} else if(gbn == 0) {
				age++;
				fish.put("age", age);
			}
			
			if(age > 3) {
				System.out.println(fishName[fish.get("type")] + "가 죽었습니다.");
				
				bowl.remove(i);
				
				i--;
			}
		}
	}
	
	public void sellFish() {
		for(int i = bowl.size() - 1 ; i >= 0 ; i--) {
			HashMap<String, Integer> fish = bowl.get(i);
			int age = fish.get("age");
			
			if(age >= 0) {
				int type = fish.get("type");
				
				money += fishSell[type];
				
				System.out.println(fishName[type] + "가 " + fishSell[type] + "원에 팔렸습니다.");
				
				bowl.remove(i);
			}
		}
	}
	
	public void buyBowl() {
		if(money < bowlBuy) {
			System.out.println("어항 구매비용이 부족합니다.");
		} else {
			money -= bowlBuy;
			bowlCnt++;
		}
	}
	
	public void status() {
		System.out.println("----- 보유금액 : " + money + "원 -----");
		System.out.println("----- 보유어항 : " + bowlCnt + "개 -----");
		
		System.out.println("----- 어항상태 -----");
		
		for(HashMap<String, Integer> fish : bowl) {
			int type = fish.get("type");
			int age = fish.get("age");
			
			if(age < 0) {
				System.out.println(fishName[type] + "(성장완료까지 " + (age * - 1) + "일 남음)");
			} else {
				System.out.println(fishName[type] + "(성장완료 " + age + "일)");
			}
		}
	}
}
```

-----

#### 실행결과

```java
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.종료
1
1.금붕어(구매가격 : 100, 성장일 수 : 3)	2.잉어(구매가격 : 500, 성장일 수 : 7)	3.구피(구매가격 : 200, 성장일 수 : 5)	
1
현재 남은 자금 : 200
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
1
1.금붕어(구매가격 : 100, 성장일 수 : 3)	2.잉어(구매가격 : 500, 성장일 수 : 7)	3.구피(구매가격 : 200, 성장일 수 : 5)	
3
현재 남은 자금 : 0
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
4
현재 먹이 살 수 있는 자금이 부족합니다. 현재 자금 : 0
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
5
금붕어	2일 후 판매가능
구피	4일 후 판매가능
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
2
판매가능한 물고기가 없습니다.
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
5
금붕어	1일 후 판매가능
구피	3일 후 판매가능
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
5
금붕어	0일 후 판매가능
구피	2일 후 판매가능
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
5
금붕어2일 후 죽음
구피	1일 후 판매가능
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
5
금붕어1일 후 죽음
구피	0일 후 판매가능
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
3
현재 남은 자금 : 0
-----------------
물고기 현재 상태
-----------------
금붕어1일 후 죽음
구피3일 후 죽음
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
2
현재 판매가능한 물고기
1.금붕어	판매가격 : 150
2.구피	판매가격 : 350
판매하시겠습니까?	1.예	2.아니오
1
판매가능한 물고기
1.금붕어	판매가격 : 150	2.구피	판매가격 : 350	
1
현재 남은 자금 : 150
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
2
현재 판매가능한 물고기
1.구피	판매가격 : 350
판매하시겠습니까?	1.예	2.아니오
1
판매가능한 물고기
1.구피	판매가격 : 350	
1
현재 남은 자금 : 500
1.구매	2.판매	3.상태확인	4.먹이주기	5.다음날	6.어항구매	7.3종료
7
종료합니다.
```
